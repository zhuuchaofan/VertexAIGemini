@* 图片预览组件 - 显示待发送的图片缩略图 *@

@if (Images.Count > 0)
{
    <div class="flex flex-wrap gap-2 p-2 bg-slate-50 rounded-xl mb-2">
        @foreach (var image in Images)
        {
            <div class="relative group">
                <img src="@image.DataUrl"
                     alt="@(image.FileName ?? "预览图片")"
                     class="w-16 h-16 sm:w-20 sm:h-20 object-cover rounded-lg border border-slate-200 shadow-sm" />
                <button type="button"
                        @onclick="() => OnRemove.InvokeAsync(image)"
                        class="absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity shadow-md hover:bg-red-600">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
        }
    </div>
}

@code {
    [Parameter] public List<ImageAttachment> Images { get; set; } = new();
    [Parameter] public EventCallback<ImageAttachment> OnRemove { get; set; }
}
